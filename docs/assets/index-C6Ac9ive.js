var $=Object.defineProperty;var H=(e,r,t)=>r in e?$(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var p=(e,r,t)=>H(e,typeof r!="symbol"?r+"":r,t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const R of a.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&c(R)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();const I=["Montre","Pêcheur","Écureuil","Baleine","Souris","Hippocampe","Ruche","Ordinateur","Niche","Mamie","Dinosaure","Pêcher","Limousine","Chevalier","Oeuf de Pâques","Bonhomme de neige","Poireau","Cravate","Robe de mariée","Pyjama","Bague","Varicelle","Lion","Barbe","Pizza","Ciseaux","Trousse","Rouge à lèvres","Écharpe","Chaise","Cadeau","Ballon","Lunettes","Arrosoir","Index","Genou","Domino","Pirate","Magicien","Père Noël","Momie","Cirque","Fourchette","Poubelle","Crocodile","Glace","Coffre-fort","Igloo","Tour Eiffel","Notre Dame","Prise électrique","Calendrier","Cheminée","Chaussette","Jeu de cartes","Pétanque","Autostop","Sage-femme","Plombier","Président de la république","Marionnettiste","Berger","Génie","Esthéticienne","Printemps","Artichaut","Pâte à modeler","Farine","Mayonnaise","Twitter","Lampe à huile","Huître","Moule","Chou de bruxelles","Tailleur","Déménager","Ramper","Neveu","Acteur","Ours polaire","Samedi","Halloween","Spéléologie","Perroquet","Éternuer","Judo","Curling","Formule 1","Réalisateur","Mammouth","Fourmilier","Chirurgien","Mannequin","Hockey sur gazon","Oursin","Cachalot","Distributeur","Squash","Accoucher","Sauter à la corde","Faire la vaisselle","Livrer un colis","Jouer du ukulélé","Faire des crèpes","Traire une vache","Manger un hamburger","Lire un livre en braille","Chanter la Marseillaise","Écrire un SMS","Couper du bois","Avoir mal aux dents","raclette","Sortir le chien","Sauter en parachute","Regarder la télé","Grimper à un arbre","Sauter du plongeoir","Jouer aux lego","Lire dans les lignes de la main","Se laver les dents","Se coiffer les cheveux","Allumer une bougie","Étendre le linge","Tomber amoureux","Poker","Faire ses devoirs","Cueillir des pommes","Ramasser des champignons","Changer un bébé","Danser le tango","Claquer une porte","Avoir une idée","Courir un marathon","Tondre la pelouse","Être en retard","Un de ces quatre","Les doigts dans le nez","Vouloir le beurre et l'argent du beurre","Toucher du bois","Regarder les mouches voler","Pisser dans un violon","Dormir sur ses deux oreilles","Prendre son pied","L'habit ne fait pas le moine","Poser un lapin","Cucul la praline","Au ras des pâquerettes","Pleurer à chaudes larmes","Tomber dans les pommes","C'est bonnet blanc et blanc bonnet","Un froid de canard","Tourner autour du pot","Point barre","Avoir plusieurs cordes à son arc","Être la cinquième roue du carrosse","Prendre le taureau par les cornes","Appuyer sur le champignon","Sans queue ni tête","Ne pas avoir les yeux en face des trous","L'arbre qui cache la forêt","Les bras m'en tombent","Au pied de la lettre","En avoir par dessus la tête","angle","armoire","banc","bureau","cabinet","carreau","chaise","classe","clé","coin","couloir","dossier","eau","école","écriture","entrée","escalier","étagère","étude","extérieur","fenêtre","intérieur","lavabo","lecture","lit","marche","matelas","maternelle","meuble","mousse","mur","peluche","placard","plafond","porte","portemanteau","poubelle","radiateur","rampe","récréation","rentrée","rideau","robinet","salle","savon","serrure","serviette","siège","sieste","silence","sol","sommeil","sonnette","sortie","table","tableau","tabouret","tapis","tiroir","toilette","vitre","w-c","aller","amener","apporter","appuyer","s'asseoir","attendre","bâiller","bosser","se coucher","dormir","éclairer","écrire","emmener","emporter","s'endormir","s'ennuyer","entrer","étudier","fermer","frapper","s'installer","se lever","lire","ouvrir","se presser","se réchauffer","rentrer","se reposer","rester","se réveiller","sonner","sortir","tricher","venir","absent","assis","bas","couché","haut","présent","à côté","à droite","à gauche","au milieu","au-delà","au-dessous","au-dessus","debout","dedans","dehors","en bas","en face","en haut","loin","près","tard","tôt","après","avant","contre","dans","de","derrière","devant","du","sous","sur","crayon","stylo","feutre","taille-crayon","pointe","mine","gomme","dessin","coloriage","rayure","peinture","pinceau","couleur","craie","papier","feuille","cahier","carnet","carton","ciseaux","découpage","pliage","pli","colle","affaire","boîte","casier","caisse","trousse","cartable","jouet","jeu","pion","dé","domino","puzzle","cube","perle","chose","forme : carré","rond","pâte à modeler","tampon","livre","histoire","bibliothèque","image","album","titre","bande dessinée","conte","dictionnaire","magazine","catalogue","page","ligne","mot","enveloppe","étiquette","affiche","alphabet","appareil","caméscope","cassette","cédérom","chaîne","chanson","chiffre","contraire","différence","doigt","écran","écriture","film","fois","idée","instrument","intrus","lettre","liste","magnétoscope","main","micro","modèle","musique","nom","nombre","orchestre","ordinateur","photo","point","poster","pouce","prénom","question","radio","sens","tambour","télécommande","téléphone","télévision","trait","trompette","voix","xylophone","zéro","chanter","chercher","choisir","chuchoter","coller","colorier","commencer","comparer","compter","construire","continuer","copier","couper","déchirer","décoller","décorer","découper","demander","démolir","se dépêcher","dessiner","dire","discuter","écouter","écrire","effacer","entendre","entourer","envoyer","faire","finir","fouiller","goûter","imiter","laisser","lire","mettre","montrer","ouvrir un livre","parler","peindre","plier","poser","prendre","préparer","ranger","réciter","recommencer","regarder","remettre","répéter","répondre","sentir","souligner","tailler","se taire","tenir","terminer","toucher","travailler","trier","adresse","appartement","ascenseur","balcon","boucherie","boulanger","boulangerie","boutique","bus","caniveau","caravane","carrefour","cave","charcuterie","cinéma","cirque","clin d'œil","cloche","clocher","clown","coiffeur","colis-route","courrier","croix","église","embouteillage","endroit","enveloppe","essence","facteur","fleuriste","foire","hôpital","hôtel","immeuble","incendie","laisse","magasin","manège","médicament","moineau","monde","monument","ouvrier","palais","panneau","paquet","parc","passage","pharmacie","pharmacien","piscine","place","police","policier","pompier","poste","promenade","quartier","square","timbre","travaux","usine","village","ville","voisin","volet","barrer","clignoter","se croiser","garer","photographier","reconnaître","retrouver","revoir","saluer","savoir","se toucher","se trouver","visiter","important","impossible","prudent","chez","abricot","ail","aliment","ananas","banane","bifteck","café","carotte","cerise","chocolat","chou","citron","citrouille","clémentine","concombre","coquillage","corbeille","crabe","crevette","endive","farine","fraise","framboise","fromage","fruit","gâteau","haricot","huile","légume","marchand","melon","monnaie","navet","noisette","noix","nourriture","oignon","orange","panier","pâtes","pêche","persil","petit pois","poire","poireau","pomme","pomme de terre","prix","prune","queue","raisin","riz","salade","sucre","thé","tomate","viande","vin","acheter","ajouter","coûter","payer","peser","rendre","vendre","cher","léger","lourd","plein","baleine","bouée","île","jumelles","marin","mer","mouette","navire","pêcheur","plage","poisson","port","sardine","serviette","vague","voile","se noyer","ramer","nager","angle","armoire","banc","bureau","cabinet","carreau","chaise","classe","clé","coin","couloir","dossier","eau","école","écriture","entrée","escalier","étagère","étude","extérieur","fenêtre","intérieur","lavabo","lecture","lit","marche","matelas","maternelle","meuble","mousse","mur","peluche","placard","plafond","porte","portemanteau","poubelle","radiateur","rampe","récréation","rentrée","rideau","robinet","salle","savon","serrure","serviette","siège","sieste","silence","sol","sommeil","sonnette","sortie","table","tableau","tabouret","tapis","tiroir","toilette","vitre","w-c","crayon","stylo","feutre","taille-crayon","pointe","mine","gomme","dessin","coloriage","rayure","peinture","pinceau","couleur","craie","papier","feuille","cahier","carnet","carton","ciseaux","découpage","pliage","pli","colle","affaire","boîte","casier","caisse","trousse","cartable","jouet","jeu","pion","dé","domino","puzzle","cube","perle","chose","forme : carré","rond","pâte à modeler","tampon","livre","histoire","bibliothèque","image","album","titre","bande dessinée","conte","dictionnaire","magazine","catalogue","page","ligne","mot","enveloppe","étiquette","affiche","alphabet","appareil","caméscope","cassette","cédé","cédérom","chaîne","chanson","chiffre","contraire","différence","doigt","écran","écriture","film","fois","idée","instrument","intrus","lettre","liste","magnétoscope","main","micro","modèle","musique","nom","nombre","orchestre","ordinateur","photo","point","poster","pouce","prénom","question","radio","sens","tambour","télécommande","téléphone","télévision","trait","trompette","voix","xylophone","zéro","aller","amener","apporter","appuyer","s'asseoir","attendre","bâiller","bosser","se coucher","dormir","éclairer","écrire","emmener","emporter","s'endormir","s'ennuyer","entrer","étudier","fermer","frapper","s'installer","se lever","lire","ouvrir","se presser","se réchauffer","rentrer","se reposer","rester","se réveiller","sonner","sortir","tricher","venir","absent","assis","bas","couché","haut","présent","aider","défendre","désobéir","distribuer","échanger","s'excuser","expliquer","se fâcher","gronder","obéir","obliger","partager","prêter","priver","promettre","punir","se quitter","raconter","refuser","séparer","à côté","à droite","à gauche","au milieu","au-delà","au-dessous","au-dessus","debout","dedans","dehors","en bas","en face","en haut","loin","près","tard","tôt","blond","brun","calme","curieux","différent","doux","énervé","gentil","grand","handicapé","inséparable","jaloux","moyen","muet","noir","nouveau","petit","poli","propre","roux","sage","sale","sérieux","sourd","tranquille","chanter","chercher","choisir","chuchoter","coller","colorier","commencer","comparer","compter","construire","continuer","copier","couper","déchirer","décoller","décorer","découper","demander","démolir","se dépêcher","dessiner","dire","discuter","écouter","écrire","effacer","entendre","entourer","envoyer","faire","finir","fouiller","goûter","imiter","laisser","lire","mettre","montrer","ouvrir un livre","parler","peindre","plier","poser","prendre","préparer","ranger","réciter","recommencer","regarder","remettre","répéter","répondre","sentir","souligner","tailler","se taire","tenir","terminer","toucher","travailler","trier","ami","attention","camarade","colère","copain","coquin","dame","directeur","directrice","droit","effort","élève","enfant","fatigue","faute","fille","garçon","gardien","madame","maître","maîtresse","mensonge","ordre","personne","retard","sourire","travail","arrosoir","assiette","balle","bateau","boîte","bouchon","bouteille","bulles","canard","casserole","cuillère","cuvette","douche","entonnoir","gouttes","litre","moulin","pluie","poisson","pont","pot","roue","sac en plastique","saladier","seau","tablier","tasse","trous","verre","agiter","s'amuser","arroser","attraper","avancer","baigner","barboter","boucher","bouger","déborder","doucher","éclabousser","essuyer","envoyer","flotter","gonfler","inonder","jouer","laver","mélanger","mouiller","nager","patauger","pleuvoir","plonger","pousser","pouvoir","presser","recevoir","remplir","renverser","sécher","serrer","souffler","tirer","tourner","tremper","verser","vider","vouloir","amusant","chaud","froid","humide","intéressant","mouillé","sec","transparent","à moitié","autant","beaucoup","encore","moins","peu","plus","trop","à l'endroit","à l'envers","anorak","arc","bagage","baguette","barbe","bonnet","botte","bouton","bretelle","cagoule","casque","casquette","ceinture","chapeau","chaussette","chausson","chaussure","chemise","cigarette","col","collant","couronne","cravate","culotte","écharpe","épée","fée","flèche","fusil","gant","habit","jean","jupe","lacet","laine","linge","lunettes","magicien","magie","maillot","manche","manteau","mouchoir","moufle","nœud","paire","pantalon","pied","poche","prince","pull-over","pyjama","reine","robe","roi","ruban","semelle","soldat","sorcière","tache","taille","talon","tissu","tricot","uniforme","valise","veste","vêtement","se changer","se chausser","se couvrir","se déguiser","se déshabiller","enlever","s'habiller","lacer","porter","ressembler","aiguille","ampoule","avion","bois","bout","bricolage","bruit","cabane","carton","clou","colle","crochet","élastique","ficelle","fil","marionnette","marteau","métal","mètre","morceau","moteur","objet","outil","peinture","pinceau","planche","plâtre","scie","tournevis","vis","voiture","véhicule","carnaval"];function J(e){return Math.floor(Math.random()*e)}function B(e){return e.split("").reverse().join("")}function V(e){const r=new URL(window.location.href);if(e==null)return r;e=B(e),e=encodeURIComponent(e);const t=r.searchParams.get("words");t!==null?(r.searchParams.set("words",t+"_"+e),history.pushState({},"",r)):(r.searchParams.set("words",e),history.pushState({},"",r))}function K(e){return e.sort(()=>Math.random()-.5)}const S=class S{constructor(r){p(this,"timerText");p(this,"interval");p(this,"seconds");p(this,"minutes");p(this,"onTimerEnd");this.timerText=document.getElementById(r),this.interval=null,this.seconds=0,this.minutes=0,this.onTimerEnd=[]}start(){this.seconds=S.INITIAL_TIME_SECONDS%60,this.minutes=Math.floor(S.INITIAL_TIME_SECONDS/60),this.resume()}resume(){(this.seconds>0||this.minutes>0)&&(this.interval||(this.updateDisplay(),this.interval=window.setInterval(()=>{this.updateTimer()},1e3)))}stop(){this.interval&&(clearInterval(this.interval),this.interval=null)}reset(){this.stop(),this.seconds=0,this.minutes=0,this.updateDisplay()}isRunning(){return this.interval!==null}updateTimer(){if(--this.seconds,this.seconds===60&&(this.seconds=0,this.minutes++),this.updateDisplay(),this.seconds<=0){this.stop();for(var r of this.onTimerEnd)r()}}updateDisplay(){const r=this.minutes.toString().padStart(2,"0"),t=this.seconds.toString().padStart(2,"0");this.timerText.textContent=`${r}:${t}`}};p(S,"INITIAL_TIME_SECONDS",30);let w=S;class C{constructor(r,t=0){p(this,"name");p(this,"score");this.name=r,this.score=t}}let n,l=0;function Q(){console.log("Adding a team"),n.push(new C((n.length+1).toString())),console.log("Total is",n.length,"players")}function k(){++l,l>n.length-1&&Q()}function D(){console.log("Resetting teams"),n=[],l=-1,k()}function _(){return n.length===0?new C("?"):n[l]}function X(){return l===n.length-1}function Y(){return console.log("Adding a point to player",l),n[l].score++,n[l].score}function Z(){return new URL(window.location.href).searchParams.getAll("p")}function ee(){console.log("reading scores from URL"),n=[],l=0;const e=Z();if(e!==null&&(n==null?void 0:n.length)>0)for(const r of e){const t=r.split("_")[0],c=r.split("_")[1];t!==null&&c!==null&&!Number.isNaN(parseInt(c))&&n.push(new C(t,parseInt(c)))}else l=0}function re(){l=0;for(let e in n)n[e].score=0}const P=15,q=new w("timer");let s,E,o=[],T=[];function M(){O(),o.length+T.length<P?(s=I[J(I.length)],V(s)):s=o.shift()}function O(){if((o==null?void 0:o.length)===0){const r=new URL(window.location.href).searchParams.get("words"),t=r!==null?r==null?void 0:r.split("_"):[];for(const c of t){if(o.length===P)break;o.push(B(decodeURIComponent(c)))}K(o)}o===null&&(o=[])}function te(){return s&&T.push(s),Y(),M(),T.length<P}function j(){s&&o.push(s),M()}function ne(){z(()=>{s&&(o.unshift(s),s=void 0)})}function ie(){E<3?(M(),q.start(),ne()):console.error("END OF GAME == NOT IMPLEMENTED")}function G(){q.stop()}function oe(){q.start()}function se(){++E,E<3&&(O(),T=[],re())}function W(){ee(),D(),o=[],T=[],E=0,s=""}function z(e){q.onTimerEnd.push(()=>e())}function ae(){W(),q.reset(),D();const e=new URL(window.location.href);e.searchParams.delete("words"),history.pushState({},"",e)}function le(){return o!==null?o.length>0:!1}function ue(){return P-T.length}function ce(){return q.isRunning()}let h,N,F,L,A,f,m,y,d,u,g,x,b;function v(){var e,r;s!=null?ce()?(h.innerText="Faites deviner : "+s,N.innerText="Round "+(E+1)+". Equipe "+((e=_())==null?void 0:e.name)+" : "+((r=_())==null?void 0:r.score.toString())+" points"):h.innerText="En attente des joueurs":h.innerText="Manche terminée",F.innerText=ue().toString()}function de(e,r,t,c){console.log("User output init"),N=e,L=r,F=t,h=c}function pe(e){console.log("start button setup"),f=e;const r=()=>{console.log("(Re)Starting game"),le()?g.style.display="inline":g.style.display="none",ie(),v(),L.hidden=!1,A.hidden=!1,u.disabled=!1,d.disabled=!1,f.disabled=!0,m.disabled=!1,g.disabled=!1,d.style.display="inline",u.style.display="inline",b.style.display="none"};f.addEventListener("click",()=>r())}function U(e){console.log("reset game button setup"),g=e;const r=()=>{console.log("Resetting game"),ae(),h.innerText="Prêts à commencer",f.innerText="Relancer",L.hidden=!0,A.hidden=!0,f.disabled=!1,m.disabled=!0,y.disabled=!1,y.style.display="none",g.style.display="none",y.style.display="none",m.style.display="inline",y.style.display="none",d.style.display="none",u.style.display="none",x.style.display="none",b.style.display="none"};e.addEventListener("click",()=>r())}function me(e){y=e;const r=()=>{console.log("Resuming timer"),oe(),v(),m.disabled=!1,m.style.display="inline",y.style.display="none"};e.addEventListener("click",()=>r())}function he(e){console.log("stop timer setup"),m=e;const r=()=>{console.log("Stopping timer"),G(),v(),u.disabled=!0,d.disabled=!0,m.disabled=!0,m.style.display="none",y.style.display="inline"};e.addEventListener("click",()=>r())}function fe(e){A=e;const r=()=>{j(),v()};e.addEventListener("click",()=>r())}function ge(e){d=e;const r=()=>{j(),v()};e.addEventListener("click",()=>r())}function be(e){u=e;const r=()=>{const t=te();v(),t||(h.innerText="Fin du round",d.style.display="none",u.style.display="none",x.style.display="inline")};u.addEventListener("click",()=>r())}function ve(e){b=e;const r=()=>{k(),v(),f.disabled=!1,d.disabled=!0,u.disabled=!0,d.style.display="initial",u.style.display="initial",b.style.display="none",x.style.display="none",g.disabled=!0};e.addEventListener("click",()=>r())}function ye(e){x=e;const r=()=>{se(),h.innerText="",N.innerText="",v(),f.disabled=!1,L.hidden=!0,d.style.display="none",u.style.display="none",x.style.display="none",b.style.display="none",g.style.display="inline"};e.addEventListener("click",()=>r())}function Te(e){const r=()=>{h.innerText="Fin du temps !",f.disabled=!0,m.disabled=!0,d.style.display="none",u.style.display="none",b.style.display="inline",X()?(x.style.display="inline",b.innerText="Ajouter une équipe"):b.innerText="Equipe suivante",g.style.display="inline"};e.addEventListener("click",()=>{G(),r()}),z(r)}const xe=document.querySelector("#start"),qe=document.querySelector("#pause"),Se=document.querySelector("#resume"),Ee=document.querySelector("#reset"),Pe=document.querySelector("#words_and_time_left"),Le=document.querySelector("#score"),Re=document.querySelector("#remaining"),we=document.querySelector("#word"),Ce=document.querySelector("#turn_buttons"),Me=document.querySelector("#skip_word"),Ne=document.querySelector("#guessed_word"),Ae=document.querySelector("#next_team"),Ie=document.querySelector("#next_round"),_e=document.querySelector("#reset_words"),Be=document.querySelector("#end_timer");de(Le,Pe,Re,we);pe(xe);he(qe);me(Se);U(Ee);fe(Ce);ge(Me);be(Ne);ve(Ae);ye(Ie);U(_e);W();Te(Be);
