var V=Object.defineProperty;var K=(e,r,t)=>r in e?V(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var p=(e,r,t)=>K(e,typeof r!="symbol"?r+"":r,t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))d(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const P of s.addedNodes)P.tagName==="LINK"&&P.rel==="modulepreload"&&d(P)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const _=["Montre","Pêcheur","Écureuil","Baleine","Souris","Hippocampe","Ruche","Ordinateur","Niche","Mamie","Dinosaure","Pêcher","Limousine","Chevalier","Oeuf de Pâques","Bonhomme de neige","Poireau","Cravate","Robe de mariée","Pyjama","Bague","Varicelle","Lion","Barbe","Pizza","Ciseaux","Trousse","Rouge à lèvres","Écharpe","Chaise","Cadeau","Ballon","Lunettes","Arrosoir","Index","Genou","Domino","Pirate","Magicien","Père Noël","Momie","Cirque","Fourchette","Poubelle","Crocodile","Glace","Coffre-fort","Igloo","Tour Eiffel","Notre Dame","Prise électrique","Calendrier","Cheminée","Chaussette","Jeu de cartes","Pétanque","Autostop","Sage-femme","Plombier","Président de la république","Marionnettiste","Berger","Génie","Esthéticienne","Printemps","Artichaut","Pâte à modeler","Farine","Mayonnaise","Twitter","Lampe à huile","Huître","Moule","Chou de bruxelles","Tailleur","Déménager","Ramper","Neveu","Acteur","Ours polaire","Samedi","Halloween","Spéléologie","Perroquet","Éternuer","Judo","Curling","Formule 1","Réalisateur","Mammouth","Fourmilier","Chirurgien","Mannequin","Hockey sur gazon","Oursin","Cachalot","Distributeur","Squash","Accoucher","Sauter à la corde","Faire la vaisselle","Livrer un colis","Jouer du ukulélé","Faire des crèpes","Traire une vache","Manger un hamburger","Lire un livre en braille","Chanter la Marseillaise","Écrire un SMS","Couper du bois","Avoir mal aux dents","raclette","Sortir le chien","Sauter en parachute","Regarder la télé","Grimper à un arbre","Sauter du plongeoir","Jouer aux lego","Lire dans les lignes de la main","Se laver les dents","Se coiffer les cheveux","Allumer une bougie","Étendre le linge","Tomber amoureux","Poker","Faire ses devoirs","Cueillir des pommes","Ramasser des champignons","Changer un bébé","Danser le tango","Claquer une porte","Avoir une idée","Courir un marathon","Tondre la pelouse","Être en retard","Un de ces quatre","Les doigts dans le nez","Vouloir le beurre et l'argent du beurre","Toucher du bois","Regarder les mouches voler","Pisser dans un violon","Dormir sur ses deux oreilles","Prendre son pied","L'habit ne fait pas le moine","Poser un lapin","Cucul la praline","Au ras des pâquerettes","Pleurer à chaudes larmes","Tomber dans les pommes","C'est bonnet blanc et blanc bonnet","Un froid de canard","Tourner autour du pot","Point barre","Avoir plusieurs cordes à son arc","Être la cinquième roue du carrosse","Prendre le taureau par les cornes","Appuyer sur le champignon","Sans queue ni tête","Ne pas avoir les yeux en face des trous","L'arbre qui cache la forêt","Les bras m'en tombent","Au pied de la lettre","En avoir par dessus la tête","angle","armoire","banc","bureau","cabinet","carreau","chaise","classe","clé","coin","couloir","dossier","eau","école","écriture","entrée","escalier","étagère","étude","extérieur","fenêtre","intérieur","lavabo","lecture","lit","marche","matelas","maternelle","meuble","mousse","mur","peluche","placard","plafond","porte","portemanteau","poubelle","radiateur","rampe","récréation","rentrée","rideau","robinet","salle","savon","serrure","serviette","siège","sieste","silence","sol","sommeil","sonnette","sortie","table","tableau","tabouret","tapis","tiroir","toilette","vitre","w-c","aller","amener","apporter","appuyer","s'asseoir","attendre","bâiller","bosser","se coucher","dormir","éclairer","écrire","emmener","emporter","s'endormir","s'ennuyer","entrer","étudier","fermer","frapper","s'installer","se lever","lire","ouvrir","se presser","se réchauffer","rentrer","se reposer","rester","se réveiller","sonner","sortir","tricher","venir","absent","assis","bas","couché","haut","présent","à côté","à droite","à gauche","au milieu","au-delà","au-dessous","au-dessus","debout","dedans","dehors","en bas","en face","en haut","loin","près","tard","tôt","après","avant","contre","dans","de","derrière","devant","du","sous","sur","crayon","stylo","feutre","taille-crayon","pointe","mine","gomme","dessin","coloriage","rayure","peinture","pinceau","couleur","craie","papier","feuille","cahier","carnet","carton","ciseaux","découpage","pliage","pli","colle","affaire","boîte","casier","caisse","trousse","cartable","jouet","jeu","pion","dé","domino","puzzle","cube","perle","chose","forme : carré","rond","pâte à modeler","tampon","livre","histoire","bibliothèque","image","album","titre","bande dessinée","conte","dictionnaire","magazine","catalogue","page","ligne","mot","enveloppe","étiquette","affiche","alphabet","appareil","caméscope","cassette","cédérom","chaîne","chanson","chiffre","contraire","différence","doigt","écran","écriture","film","fois","idée","instrument","intrus","lettre","liste","magnétoscope","main","micro","modèle","musique","nom","nombre","orchestre","ordinateur","photo","point","poster","pouce","prénom","question","radio","sens","tambour","télécommande","téléphone","télévision","trait","trompette","voix","xylophone","zéro","chanter","chercher","choisir","chuchoter","coller","colorier","commencer","comparer","compter","construire","continuer","copier","couper","déchirer","décoller","décorer","découper","demander","démolir","se dépêcher","dessiner","dire","discuter","écouter","écrire","effacer","entendre","entourer","envoyer","faire","finir","fouiller","goûter","imiter","laisser","lire","mettre","montrer","ouvrir un livre","parler","peindre","plier","poser","prendre","préparer","ranger","réciter","recommencer","regarder","remettre","répéter","répondre","sentir","souligner","tailler","se taire","tenir","terminer","toucher","travailler","trier","adresse","appartement","ascenseur","balcon","boucherie","boulanger","boulangerie","boutique","bus","caniveau","caravane","carrefour","cave","charcuterie","cinéma","cirque","clin d'œil","cloche","clocher","clown","coiffeur","colis-route","courrier","croix","église","embouteillage","endroit","enveloppe","essence","facteur","fleuriste","foire","hôpital","hôtel","immeuble","incendie","laisse","magasin","manège","médicament","moineau","monde","monument","ouvrier","palais","panneau","paquet","parc","passage","pharmacie","pharmacien","piscine","place","police","policier","pompier","poste","promenade","quartier","square","timbre","travaux","usine","village","ville","voisin","volet","barrer","clignoter","se croiser","garer","photographier","reconnaître","retrouver","revoir","saluer","savoir","se toucher","se trouver","visiter","important","impossible","prudent","chez","abricot","ail","aliment","ananas","banane","bifteck","café","carotte","cerise","chocolat","chou","citron","citrouille","clémentine","concombre","coquillage","corbeille","crabe","crevette","endive","farine","fraise","framboise","fromage","fruit","gâteau","haricot","huile","légume","marchand","melon","monnaie","navet","noisette","noix","nourriture","oignon","orange","panier","pâtes","pêche","persil","petit pois","poire","poireau","pomme","pomme de terre","prix","prune","queue","raisin","riz","salade","sucre","thé","tomate","viande","vin","acheter","ajouter","coûter","payer","peser","rendre","vendre","cher","léger","lourd","plein","baleine","bouée","île","jumelles","marin","mer","mouette","navire","pêcheur","plage","poisson","port","sardine","serviette","vague","voile","se noyer","ramer","nager","angle","armoire","banc","bureau","cabinet","carreau","chaise","classe","clé","coin","couloir","dossier","eau","école","écriture","entrée","escalier","étagère","étude","extérieur","fenêtre","intérieur","lavabo","lecture","lit","marche","matelas","maternelle","meuble","mousse","mur","peluche","placard","plafond","porte","portemanteau","poubelle","radiateur","rampe","récréation","rentrée","rideau","robinet","salle","savon","serrure","serviette","siège","sieste","silence","sol","sommeil","sonnette","sortie","table","tableau","tabouret","tapis","tiroir","toilette","vitre","w-c","crayon","stylo","feutre","taille-crayon","pointe","mine","gomme","dessin","coloriage","rayure","peinture","pinceau","couleur","craie","papier","feuille","cahier","carnet","carton","ciseaux","découpage","pliage","pli","colle","affaire","boîte","casier","caisse","trousse","cartable","jouet","jeu","pion","dé","domino","puzzle","cube","perle","chose","forme : carré","rond","pâte à modeler","tampon","livre","histoire","bibliothèque","image","album","titre","bande dessinée","conte","dictionnaire","magazine","catalogue","page","ligne","mot","enveloppe","étiquette","affiche","alphabet","appareil","caméscope","cassette","cédé","cédérom","chaîne","chanson","chiffre","contraire","différence","doigt","écran","écriture","film","fois","idée","instrument","intrus","lettre","liste","magnétoscope","main","micro","modèle","musique","nom","nombre","orchestre","ordinateur","photo","point","poster","pouce","prénom","question","radio","sens","tambour","télécommande","téléphone","télévision","trait","trompette","voix","xylophone","zéro","aller","amener","apporter","appuyer","s'asseoir","attendre","bâiller","bosser","se coucher","dormir","éclairer","écrire","emmener","emporter","s'endormir","s'ennuyer","entrer","étudier","fermer","frapper","s'installer","se lever","lire","ouvrir","se presser","se réchauffer","rentrer","se reposer","rester","se réveiller","sonner","sortir","tricher","venir","absent","assis","bas","couché","haut","présent","aider","défendre","désobéir","distribuer","échanger","s'excuser","expliquer","se fâcher","gronder","obéir","obliger","partager","prêter","priver","promettre","punir","se quitter","raconter","refuser","séparer","à côté","à droite","à gauche","au milieu","au-delà","au-dessous","au-dessus","debout","dedans","dehors","en bas","en face","en haut","loin","près","tard","tôt","blond","brun","calme","curieux","différent","doux","énervé","gentil","grand","handicapé","inséparable","jaloux","moyen","muet","noir","nouveau","petit","poli","propre","roux","sage","sale","sérieux","sourd","tranquille","chanter","chercher","choisir","chuchoter","coller","colorier","commencer","comparer","compter","construire","continuer","copier","couper","déchirer","décoller","décorer","découper","demander","démolir","se dépêcher","dessiner","dire","discuter","écouter","écrire","effacer","entendre","entourer","envoyer","faire","finir","fouiller","goûter","imiter","laisser","lire","mettre","montrer","ouvrir un livre","parler","peindre","plier","poser","prendre","préparer","ranger","réciter","recommencer","regarder","remettre","répéter","répondre","sentir","souligner","tailler","se taire","tenir","terminer","toucher","travailler","trier","ami","attention","camarade","colère","copain","coquin","dame","directeur","directrice","droit","effort","élève","enfant","fatigue","faute","fille","garçon","gardien","madame","maître","maîtresse","mensonge","ordre","personne","retard","sourire","travail","arrosoir","assiette","balle","bateau","boîte","bouchon","bouteille","bulles","canard","casserole","cuillère","cuvette","douche","entonnoir","gouttes","litre","moulin","pluie","poisson","pont","pot","roue","sac en plastique","saladier","seau","tablier","tasse","trous","verre","agiter","s'amuser","arroser","attraper","avancer","baigner","barboter","boucher","bouger","déborder","doucher","éclabousser","essuyer","envoyer","flotter","gonfler","inonder","jouer","laver","mélanger","mouiller","nager","patauger","pleuvoir","plonger","pousser","pouvoir","presser","recevoir","remplir","renverser","sécher","serrer","souffler","tirer","tourner","tremper","verser","vider","vouloir","amusant","chaud","froid","humide","intéressant","mouillé","sec","transparent","à moitié","autant","beaucoup","encore","moins","peu","plus","trop","à l'endroit","à l'envers","anorak","arc","bagage","baguette","barbe","bonnet","botte","bouton","bretelle","cagoule","casque","casquette","ceinture","chapeau","chaussette","chausson","chaussure","chemise","cigarette","col","collant","couronne","cravate","culotte","écharpe","épée","fée","flèche","fusil","gant","habit","jean","jupe","lacet","laine","linge","lunettes","magicien","magie","maillot","manche","manteau","mouchoir","moufle","nœud","paire","pantalon","pied","poche","prince","pull-over","pyjama","reine","robe","roi","ruban","semelle","soldat","sorcière","tache","taille","talon","tissu","tricot","uniforme","valise","veste","vêtement","se changer","se chausser","se couvrir","se déguiser","se déshabiller","enlever","s'habiller","lacer","porter","ressembler","aiguille","ampoule","avion","bois","bout","bricolage","bruit","cabane","carton","clou","colle","crochet","élastique","ficelle","fil","marionnette","marteau","métal","mètre","morceau","moteur","objet","outil","peinture","pinceau","planche","plâtre","scie","tournevis","vis","voiture","véhicule","carnaval"];function Q(e){return Math.floor(Math.random()*e)}function B(e){return e.split("").reverse().join("")}function X(e){const r=new URL(window.location.href);if(e==null)return r;e=B(e),e=encodeURIComponent(e);const t=r.searchParams.get("words");t!==null?(r.searchParams.set("words",t+"_"+e),history.pushState({},"",r)):(r.searchParams.set("words",e),history.pushState({},"",r))}function Y(e){return e.sort(()=>Math.random()-.5)}const E=class E{constructor(r){p(this,"timerText");p(this,"interval");p(this,"seconds");p(this,"minutes");p(this,"onTimerEnd");this.timerText=document.getElementById(r),this.interval=null,this.seconds=0,this.minutes=0,this.onTimerEnd=[]}start(){this.seconds=E.INITIAL_TIME_SECONDS%60,this.minutes=Math.floor(E.INITIAL_TIME_SECONDS/60),this.resume()}resume(){(this.seconds>0||this.minutes>0)&&(this.interval||(this.updateDisplay(),this.interval=window.setInterval(()=>{this.updateTimer()},1e3)))}stop(){this.interval&&(clearInterval(this.interval),this.interval=null)}reset(){this.stop(),this.seconds=0,this.minutes=0,this.updateDisplay()}isRunning(){return this.interval!==null}updateTimer(){if(--this.seconds,this.seconds===60&&(this.seconds=0,this.minutes++),this.updateDisplay(),this.seconds<=0){this.stop();for(var r of this.onTimerEnd)r()}}updateDisplay(){const r=this.minutes.toString().padStart(2,"0"),t=this.seconds.toString().padStart(2,"0");this.timerText.textContent=`${r}:${t}`}};p(E,"INITIAL_TIME_SECONDS",30);let N=E;class M{constructor(r,t=0){p(this,"name");p(this,"score");this.name=r,this.score=t}}let n,u=0;function Z(){console.log("Adding a team"),n.push(new M((n.length+1).toString())),console.log("Total is",n.length,"players")}function D(){++u,u>n.length-1&&Z()}function W(){console.log("Resetting teams"),n=[],u=-1,D()}function ee(){return n.length===0?new M("?"):n[u]}function re(){return u===n.length-1}function te(){return console.log("Adding a point to player",u),n[u].score++,n[u].score}function ie(){return new URL(window.location.href).searchParams.getAll("p")}function ne(){console.log("reading scores from URL"),n=[],u=0;const e=ie();if(e!==null&&(n==null?void 0:n.length)>0)for(const r of e){const t=r.split("_")[0],d=r.split("_")[1];t!==null&&d!==null&&!Number.isNaN(parseInt(d))&&n.push(new M(t,parseInt(d)))}else u=0}function oe(){u=0;for(let e in n)n[e].score=0}const C=15,T=new N("timer");var w=(e=>(e[e.Description=0]="Description",e[e.Word=1]="Word",e[e.Signs=2]="Signs",e[e.End=3]="End",e))(w||{});let a,h,o=[],x=[];function se(){return a&&x.push(a),te(),A(),x.length<C}function k(){a&&o.push(a),A()}function ae(){j(()=>{a&&(o.unshift(a),a=void 0)})}function le(){h<3?(A(),T.start(),ae()):console.error("END OF GAME == NOT IMPLEMENTED")}function ue(){T.stop()}function ce(){T.reset()}function de(){T.resume()}function me(){++h,h<3&&(F(),x=[],oe())}function O(){F(),ne(),W(),x=[],h=0,a=""}function j(e){T.onTimerEnd.push(()=>e())}function pe(){O(),T.reset(),W();const e=new URL(window.location.href);e.searchParams.delete("words"),history.pushState({},"",e)}function he(){return o!==null?o.length>0:!1}function fe(){return C-x.length}function ge(){return T.isRunning()}function F(){if((o==null?void 0:o.length)===0){const r=new URL(window.location.href).searchParams.get("words"),t=r!==null?r==null?void 0:r.split("_"):[];for(const d of t){if(o.length===C)break;o.push(B(decodeURIComponent(d)))}Y(o)}o===null&&(o=[])}function A(){o===null&&(o=[]),o.length+x.length<C?(a=_[Q(_.length)],X(a)):a=o.shift()}let m,S,z,$,U,H,I,R,G,b,v,L,c,l,f,q,g;function be(e,r,t,d,i,s,P,J){console.log("User output init"),I=e,z=r,$=t,U=d,R=i,H=s,m=P,S=J}function ve(e,r,t){b=e,v=r,L=t,b.addEventListener("click",()=>Le()),v.addEventListener("click",()=>we()),L.addEventListener("click",()=>Ce())}function ye(e){f=e;const r=()=>{console.log("Resetting game"),pe(),m.innerText="Prêts à commencer ?",b.innerText="Relancer",I.style.visibility="hidden",b.hidden=!1,R.style.visibility="hidden",S.style.visibility="hidden",G.style.visibility="hidden",v.hidden=!0,v.style.visibility="visible",L.hidden=!0,c.style.display="initial",l.style.display="initial",q.style.display="none",g.style.display="initial",f.style.visibility="hidden"};e.addEventListener("click",()=>r()),he()||(f.style.visibility="hidden")}function Te(e){G=e;const r=()=>{k(),y()};e.addEventListener("click",()=>r())}function Se(e){c=e;const r=()=>{k(),y()};e.addEventListener("click",()=>r())}function xe(e){l=e;const r=()=>{const t=se();y(),t||(m.innerText="Fin du round",c.style.display="none",l.style.display="none",q.style.display="inline")};l.addEventListener("click",()=>r())}function qe(e){g=e;const r=()=>{D(),y(),b.hidden=!1,c.disabled=!0,l.disabled=!0,c.style.display="initial",l.style.display="initial",g.style.display="none",q.style.display="none",f.disabled=!0};e.addEventListener("click",()=>r())}function Pe(e){q=e;const r=()=>{me(),y(),b.hidden=!1,R.hidden=!0,c.style.display="none",l.style.display="none",q.style.display="none",g.style.display="none",f.style.visibility="visible"};e.addEventListener("click",()=>r())}function Ee(e){const r=()=>{console.log("end of timer"),m.innerText="Fin du temps !",S.style.visibility="hidden",b.hidden=!0,v.style.visibility="hidden",c.style.display="none",l.style.display="none",g.style.display="inline",re()?(q.style.display="inline",g.innerText="Ajouter une équipe"):g.innerText="Equipe suivante",f.style.visibility="visible"};e.addEventListener("click",()=>{ce(),r()}),j(r)}function y(){if(a!=null)if(ge()){h===w.Word?m.innerText="Faites deviner en décrivant :":h===w.Description?m.innerText="Faites deviner avec un seul mot :":h===w.Signs?m.innerText="Faites deviner en mimant :":m.innerText="Partie terminée",S.innerText=a,S.style.visibility="visible",z.innerText=(h+1).toString();var e=ee();$.innerText=e?e.name:"inconnue",U.innerText=e?e.score.toString():"0"}else m.innerText="En attente des joueurs",S.style.visibility="hidden";else m.innerText="Manche terminée";H.innerText=fe().toString()}function Le(){console.log("(Re)Starting game"),le(),y(),b.hidden=!0,I.style.visibility="visible",R.style.visibility="visible",G.style.visibility="visible",l.disabled=!1,c.disabled=!1,v.hidden=!1,f.disabled=!1,c.style.display="inline",l.style.display="inline",g.style.display="none"}function we(){console.log("Stopping timer"),ue(),y(),l.disabled=!0,c.disabled=!0,v.hidden=!0,L.hidden=!1,f.style.visibility="visible"}function Ce(){console.log("Resuming timer"),de(),y(),l.disabled=!1,c.disabled=!1,v.hidden=!1,L.hidden=!0}const Re=document.querySelector("#score_group"),Ne=document.querySelector("#round"),Me=document.querySelector("#team"),Ae=document.querySelector("#score"),Ie=document.querySelector("#instruction"),Ge=document.querySelector("#word"),_e=document.querySelector("#words_and_time_left"),Be=document.querySelector("#remaining"),De=document.querySelector("#start"),We=document.querySelector("#pause"),ke=document.querySelector("#resume"),Oe=document.querySelector("#turn_buttons"),je=document.querySelector("#skip_word"),Fe=document.querySelector("#guessed_word"),ze=document.querySelector("#next_team"),$e=document.querySelector("#next_round"),Ue=document.querySelector("#reset_game"),He=document.querySelector("#end_timer");O();be(Re,Ne,Me,Ae,_e,Be,Ie,Ge);ve(De,We,ke);Te(Oe);Se(je);xe(Fe);qe(ze);Pe($e);ye(Ue);Ee(He);
