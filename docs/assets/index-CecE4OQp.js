var V=Object.defineProperty;var K=(e,r,t)=>r in e?V(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var m=(e,r,t)=>K(e,typeof r!="symbol"?r+"":r,t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const E of s.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&d(E)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();const _=["Montre","Pêcheur","Écureuil","Baleine","Souris","Hippocampe","Ruche","Ordinateur","Niche","Mamie","Dinosaure","Pêcher","Limousine","Chevalier","Oeuf de Pâques","Bonhomme de neige","Poireau","Cravate","Robe de mariée","Pyjama","Bague","Varicelle","Lion","Barbe","Pizza","Ciseaux","Trousse","Rouge à lèvres","Écharpe","Chaise","Cadeau","Ballon","Lunettes","Arrosoir","Index","Genou","Domino","Pirate","Magicien","Père Noël","Momie","Cirque","Fourchette","Poubelle","Crocodile","Glace","Coffre-fort","Igloo","Tour Eiffel","Notre Dame","Prise électrique","Calendrier","Cheminée","Chaussette","Jeu de cartes","Pétanque","Autostop","Sage-femme","Plombier","Président de la république","Marionnettiste","Berger","Génie","Esthéticienne","Printemps","Artichaut","Pâte à modeler","Farine","Mayonnaise","Twitter","Lampe à huile","Huître","Moule","Chou de bruxelles","Tailleur","Déménager","Ramper","Neveu","Acteur","Ours polaire","Samedi","Halloween","Spéléologie","Perroquet","Éternuer","Judo","Curling","Formule 1","Réalisateur","Mammouth","Fourmilier","Chirurgien","Mannequin","Hockey sur gazon","Oursin","Cachalot","Distributeur","Squash","Accoucher","Sauter à la corde","Faire la vaisselle","Livrer un colis","Jouer du ukulélé","Faire des crèpes","Traire une vache","Manger un hamburger","Lire un livre en braille","Chanter la Marseillaise","Écrire un SMS","Couper du bois","Avoir mal aux dents","raclette","Sortir le chien","Sauter en parachute","Regarder la télé","Grimper à un arbre","Sauter du plongeoir","Jouer aux lego","Lire dans les lignes de la main","Se laver les dents","Se coiffer les cheveux","Allumer une bougie","Étendre le linge","Tomber amoureux","Poker","Faire ses devoirs","Cueillir des pommes","Ramasser des champignons","Changer un bébé","Danser le tango","Claquer une porte","Avoir une idée","Courir un marathon","Tondre la pelouse","Être en retard","Un de ces quatre","Les doigts dans le nez","Vouloir le beurre et l'argent du beurre","Toucher du bois","Regarder les mouches voler","Pisser dans un violon","Dormir sur ses deux oreilles","Prendre son pied","L'habit ne fait pas le moine","Poser un lapin","Cucul la praline","Au ras des pâquerettes","Pleurer à chaudes larmes","Tomber dans les pommes","C'est bonnet blanc et blanc bonnet","Un froid de canard","Tourner autour du pot","Point barre","Avoir plusieurs cordes à son arc","Être la cinquième roue du carrosse","Prendre le taureau par les cornes","Appuyer sur le champignon","Sans queue ni tête","Ne pas avoir les yeux en face des trous","L'arbre qui cache la forêt","Les bras m'en tombent","Au pied de la lettre","En avoir par dessus la tête","angle","armoire","banc","bureau","cabinet","carreau","chaise","classe","clé","coin","couloir","dossier","eau","école","écriture","entrée","escalier","étagère","étude","extérieur","fenêtre","intérieur","lavabo","lecture","lit","marche","matelas","maternelle","meuble","mousse","mur","peluche","placard","plafond","porte","portemanteau","poubelle","radiateur","rampe","récréation","rentrée","rideau","robinet","salle","savon","serrure","serviette","siège","sieste","silence","sol","sommeil","sonnette","sortie","table","tableau","tabouret","tapis","tiroir","toilette","vitre","w-c","aller","amener","apporter","appuyer","s'asseoir","attendre","bâiller","bosser","se coucher","dormir","éclairer","écrire","emmener","emporter","s'endormir","s'ennuyer","entrer","étudier","fermer","frapper","s'installer","se lever","lire","ouvrir","se presser","se réchauffer","rentrer","se reposer","rester","se réveiller","sonner","sortir","tricher","venir","absent","assis","bas","couché","haut","présent","à côté","à droite","à gauche","au milieu","au-delà","au-dessous","au-dessus","debout","dedans","dehors","en bas","en face","en haut","loin","près","tard","tôt","après","avant","contre","dans","de","derrière","devant","du","sous","sur","crayon","stylo","feutre","taille-crayon","pointe","mine","gomme","dessin","coloriage","rayure","peinture","pinceau","couleur","craie","papier","feuille","cahier","carnet","carton","ciseaux","découpage","pliage","pli","colle","affaire","boîte","casier","caisse","trousse","cartable","jouet","jeu","pion","dé","domino","puzzle","cube","perle","chose","forme : carré","rond","pâte à modeler","tampon","livre","histoire","bibliothèque","image","album","titre","bande dessinée","conte","dictionnaire","magazine","catalogue","page","ligne","mot","enveloppe","étiquette","affiche","alphabet","appareil","caméscope","cassette","cédérom","chaîne","chanson","chiffre","contraire","différence","doigt","écran","écriture","film","fois","idée","instrument","intrus","lettre","liste","magnétoscope","main","micro","modèle","musique","nom","nombre","orchestre","ordinateur","photo","point","poster","pouce","prénom","question","radio","sens","tambour","télécommande","téléphone","télévision","trait","trompette","voix","xylophone","zéro","chanter","chercher","choisir","chuchoter","coller","colorier","commencer","comparer","compter","construire","continuer","copier","couper","déchirer","décoller","décorer","découper","demander","démolir","se dépêcher","dessiner","dire","discuter","écouter","écrire","effacer","entendre","entourer","envoyer","faire","finir","fouiller","goûter","imiter","laisser","lire","mettre","montrer","ouvrir un livre","parler","peindre","plier","poser","prendre","préparer","ranger","réciter","recommencer","regarder","remettre","répéter","répondre","sentir","souligner","tailler","se taire","tenir","terminer","toucher","travailler","trier","adresse","appartement","ascenseur","balcon","boucherie","boulanger","boulangerie","boutique","bus","caniveau","caravane","carrefour","cave","charcuterie","cinéma","cirque","clin d'œil","cloche","clocher","clown","coiffeur","colis-route","courrier","croix","église","embouteillage","endroit","enveloppe","essence","facteur","fleuriste","foire","hôpital","hôtel","immeuble","incendie","laisse","magasin","manège","médicament","moineau","monde","monument","ouvrier","palais","panneau","paquet","parc","passage","pharmacie","pharmacien","piscine","place","police","policier","pompier","poste","promenade","quartier","square","timbre","travaux","usine","village","ville","voisin","volet","barrer","clignoter","se croiser","garer","photographier","reconnaître","retrouver","revoir","saluer","savoir","se toucher","se trouver","visiter","important","impossible","prudent","chez","abricot","ail","aliment","ananas","banane","bifteck","café","carotte","cerise","chocolat","chou","citron","citrouille","clémentine","concombre","coquillage","corbeille","crabe","crevette","endive","farine","fraise","framboise","fromage","fruit","gâteau","haricot","huile","légume","marchand","melon","monnaie","navet","noisette","noix","nourriture","oignon","orange","panier","pâtes","pêche","persil","petit pois","poire","poireau","pomme","pomme de terre","prix","prune","queue","raisin","riz","salade","sucre","thé","tomate","viande","vin","acheter","ajouter","coûter","payer","peser","rendre","vendre","cher","léger","lourd","plein","baleine","bouée","île","jumelles","marin","mer","mouette","navire","pêcheur","plage","poisson","port","sardine","serviette","vague","voile","se noyer","ramer","nager","angle","armoire","banc","bureau","cabinet","carreau","chaise","classe","clé","coin","couloir","dossier","eau","école","écriture","entrée","escalier","étagère","étude","extérieur","fenêtre","intérieur","lavabo","lecture","lit","marche","matelas","maternelle","meuble","mousse","mur","peluche","placard","plafond","porte","portemanteau","poubelle","radiateur","rampe","récréation","rentrée","rideau","robinet","salle","savon","serrure","serviette","siège","sieste","silence","sol","sommeil","sonnette","sortie","table","tableau","tabouret","tapis","tiroir","toilette","vitre","w-c","crayon","stylo","feutre","taille-crayon","pointe","mine","gomme","dessin","coloriage","rayure","peinture","pinceau","couleur","craie","papier","feuille","cahier","carnet","carton","ciseaux","découpage","pliage","pli","colle","affaire","boîte","casier","caisse","trousse","cartable","jouet","jeu","pion","dé","domino","puzzle","cube","perle","chose","forme : carré","rond","pâte à modeler","tampon","livre","histoire","bibliothèque","image","album","titre","bande dessinée","conte","dictionnaire","magazine","catalogue","page","ligne","mot","enveloppe","étiquette","affiche","alphabet","appareil","caméscope","cassette","cédé","cédérom","chaîne","chanson","chiffre","contraire","différence","doigt","écran","écriture","film","fois","idée","instrument","intrus","lettre","liste","magnétoscope","main","micro","modèle","musique","nom","nombre","orchestre","ordinateur","photo","point","poster","pouce","prénom","question","radio","sens","tambour","télécommande","téléphone","télévision","trait","trompette","voix","xylophone","zéro","aller","amener","apporter","appuyer","s'asseoir","attendre","bâiller","bosser","se coucher","dormir","éclairer","écrire","emmener","emporter","s'endormir","s'ennuyer","entrer","étudier","fermer","frapper","s'installer","se lever","lire","ouvrir","se presser","se réchauffer","rentrer","se reposer","rester","se réveiller","sonner","sortir","tricher","venir","absent","assis","bas","couché","haut","présent","aider","défendre","désobéir","distribuer","échanger","s'excuser","expliquer","se fâcher","gronder","obéir","obliger","partager","prêter","priver","promettre","punir","se quitter","raconter","refuser","séparer","à côté","à droite","à gauche","au milieu","au-delà","au-dessous","au-dessus","debout","dedans","dehors","en bas","en face","en haut","loin","près","tard","tôt","blond","brun","calme","curieux","différent","doux","énervé","gentil","grand","handicapé","inséparable","jaloux","moyen","muet","noir","nouveau","petit","poli","propre","roux","sage","sale","sérieux","sourd","tranquille","chanter","chercher","choisir","chuchoter","coller","colorier","commencer","comparer","compter","construire","continuer","copier","couper","déchirer","décoller","décorer","découper","demander","démolir","se dépêcher","dessiner","dire","discuter","écouter","écrire","effacer","entendre","entourer","envoyer","faire","finir","fouiller","goûter","imiter","laisser","lire","mettre","montrer","ouvrir un livre","parler","peindre","plier","poser","prendre","préparer","ranger","réciter","recommencer","regarder","remettre","répéter","répondre","sentir","souligner","tailler","se taire","tenir","terminer","toucher","travailler","trier","ami","attention","camarade","colère","copain","coquin","dame","directeur","directrice","droit","effort","élève","enfant","fatigue","faute","fille","garçon","gardien","madame","maître","maîtresse","mensonge","ordre","personne","retard","sourire","travail","arrosoir","assiette","balle","bateau","boîte","bouchon","bouteille","bulles","canard","casserole","cuillère","cuvette","douche","entonnoir","gouttes","litre","moulin","pluie","poisson","pont","pot","roue","sac en plastique","saladier","seau","tablier","tasse","trous","verre","agiter","s'amuser","arroser","attraper","avancer","baigner","barboter","boucher","bouger","déborder","doucher","éclabousser","essuyer","envoyer","flotter","gonfler","inonder","jouer","laver","mélanger","mouiller","nager","patauger","pleuvoir","plonger","pousser","pouvoir","presser","recevoir","remplir","renverser","sécher","serrer","souffler","tirer","tourner","tremper","verser","vider","vouloir","amusant","chaud","froid","humide","intéressant","mouillé","sec","transparent","à moitié","autant","beaucoup","encore","moins","peu","plus","trop","à l'endroit","à l'envers","anorak","arc","bagage","baguette","barbe","bonnet","botte","bouton","bretelle","cagoule","casque","casquette","ceinture","chapeau","chaussette","chausson","chaussure","chemise","cigarette","col","collant","couronne","cravate","culotte","écharpe","épée","fée","flèche","fusil","gant","habit","jean","jupe","lacet","laine","linge","lunettes","magicien","magie","maillot","manche","manteau","mouchoir","moufle","nœud","paire","pantalon","pied","poche","prince","pull-over","pyjama","reine","robe","roi","ruban","semelle","soldat","sorcière","tache","taille","talon","tissu","tricot","uniforme","valise","veste","vêtement","se changer","se chausser","se couvrir","se déguiser","se déshabiller","enlever","s'habiller","lacer","porter","ressembler","aiguille","ampoule","avion","bois","bout","bricolage","bruit","cabane","carton","clou","colle","crochet","élastique","ficelle","fil","marionnette","marteau","métal","mètre","morceau","moteur","objet","outil","peinture","pinceau","planche","plâtre","scie","tournevis","vis","voiture","véhicule","carnaval"];function Q(e){return Math.floor(Math.random()*e)}function B(e){return e.split("").reverse().join("")}function X(e){const r=new URL(window.location.href);if(e==null)return r;e=B(e),e=encodeURIComponent(e);const t=r.searchParams.get("words");t!==null?(r.searchParams.set("words",t+"_"+e),history.pushState({},"",r)):(r.searchParams.set("words",e),history.pushState({},"",r))}function Y(e){return e.sort(()=>Math.random()-.5)}const L=class L{constructor(r){m(this,"timerText");m(this,"interval");m(this,"seconds");m(this,"minutes");m(this,"onTimerEnd");this.timerText=document.getElementById(r),this.interval=null,this.seconds=0,this.minutes=0,this.onTimerEnd=[]}start(){this.seconds=L.INITIAL_TIME_SECONDS%60,this.minutes=Math.floor(L.INITIAL_TIME_SECONDS/60),this.resume()}resume(){(this.seconds>0||this.minutes>0)&&(this.interval||(this.updateDisplay(),this.interval=window.setInterval(()=>{this.updateTimer()},1e3)))}stop(){this.interval&&(clearInterval(this.interval),this.interval=null)}reset(){this.stop(),this.seconds=0,this.minutes=0,this.updateDisplay()}isRunning(){return this.interval!==null}updateTimer(){if(--this.seconds,this.seconds===60&&(this.seconds=0,this.minutes++),this.updateDisplay(),this.seconds<=0){this.stop();for(var r of this.onTimerEnd)r()}}updateDisplay(){const r=this.minutes.toString().padStart(2,"0"),t=this.seconds.toString().padStart(2,"0");this.timerText.textContent=`${r}:${t}`}};m(L,"INITIAL_TIME_SECONDS",30);let N=L;class A{constructor(r,t=0){m(this,"name");m(this,"totalScore");m(this,"roundScore");this.name=r,this.totalScore=t,this.roundScore=0}}let i,u=0;function Z(){console.log("Adding a team"),i.push(new A((i.length+1).toString())),console.log("Total is",i.length,"players")}function D(){++u,u>i.length-1&&Z()}function W(){console.log("Resetting teams"),i=[],u=-1,D()}function ee(){return i.length===0?new A("?"):i[u]}function re(){return i}function te(){return u===i.length-1}function ie(){return console.log("Adding a point to player",u),i[u].roundScore++,i[u].roundScore}function ne(){return new URL(window.location.href).searchParams.getAll("p")}function oe(){console.log("reading scores from URL"),i=[],u=0;const e=ne();if(e!==null&&(i==null?void 0:i.length)>0)for(const r of e){const t=r.split("_")[0],d=r.split("_")[1];t!==null&&d!==null&&!Number.isNaN(parseInt(d))&&i.push(new A(t,parseInt(d)))}else u=0}function se(){u=0;for(let e in i)i[e].totalScore+=i[e].roundScore,i[e].roundScore=0}const C=15,S=new N("timer");var P=(e=>(e[e.Description=0]="Description",e[e.Word=1]="Word",e[e.Signs=2]="Signs",e[e.End=3]="End",e))(P||{});let a,h,o=[],x=[];function ae(){return a&&x.push(a),ie(),M(),x.length<C}function k(){a&&o.push(a),M()}function le(){j(()=>{a&&(o.unshift(a),a=void 0)})}function ue(){h<3?(M(),S.start(),le()):console.error("END OF GAME ===== NOT IMPLEMENTED")}function ce(){S.stop()}function de(){S.reset()}function me(){S.resume()}function pe(){se(),++h,h<3&&(F(),x=[])}function O(){F(),oe(),W(),x=[],h=0,a=""}function j(e){S.onTimerEnd.push(()=>e())}function he(){O(),S.reset(),W();const e=new URL(window.location.href);e.searchParams.delete("words"),history.pushState({},"",e)}function fe(){return o!==null?o.length>0:!1}function ge(){return C-x.length}function be(){return S.isRunning()}function F(){if((o==null?void 0:o.length)===0){const r=new URL(window.location.href).searchParams.get("words"),t=r!==null?r==null?void 0:r.split("_"):[];for(const d of t){if(o.length===C)break;o.push(B(decodeURIComponent(d)))}Y(o)}o===null&&(o=[])}function M(){o===null&&(o=[]),o.length+x.length<C?(a=_[Q(_.length)],X(a)):a=o.shift()}let l,T,z,$,U,H,I,R,G,b,v,w,p,c,f,q,g;function ve(e,r,t,d,n,s,E,J){console.log("User output init"),I=e,z=r,$=t,U=d,R=n,H=s,l=E,T=J}function ye(e,r,t){b=e,v=r,w=t,b.addEventListener("click",()=>we()),v.addEventListener("click",()=>Ce()),w.addEventListener("click",()=>Re())}function Se(e){f=e;const r=()=>{console.log("Resetting game"),he(),l.innerText="Prêts à commencer ?",b.innerText="Relancer",I.style.visibility="hidden",b.hidden=!1,R.style.visibility="hidden",T.style.visibility="hidden",G.style.visibility="hidden",v.hidden=!0,v.style.visibility="visible",w.hidden=!0,p.style.display="initial",c.style.display="initial",q.style.display="none",g.style.display="initial",f.style.visibility="hidden"};e.addEventListener("click",()=>r()),fe()||(f.style.visibility="hidden")}function Te(e){G=e;const r=()=>{k(),y()};e.addEventListener("click",()=>r())}function xe(e){p=e;const r=()=>{k(),y()};e.addEventListener("click",()=>r())}function qe(e){c=e;const r=()=>{const t=ae();y(),t||(l.innerText="Fin du round",p.style.display="none",c.style.display="none",q.style.display="inline")};c.addEventListener("click",()=>r())}function Ee(e){g=e;const r=()=>{D(),y(),b.hidden=!1,p.disabled=!0,c.disabled=!0,p.style.display="initial",c.style.display="initial",g.style.display="none",q.style.display="none",f.disabled=!0};e.addEventListener("click",()=>r())}function Pe(e){q=e;const r=()=>{pe(),y(),b.hidden=!1,R.hidden=!0,q.style.display="none",g.style.display="none",f.style.visibility="visible"};e.addEventListener("click",()=>r())}function Le(e){const r=()=>{console.log("end of timer"),l.innerText="Fin du temps !",T.style.visibility="hidden",b.hidden=!0,v.style.visibility="hidden",p.style.display="none",c.style.display="none",h<P.End-1?(g.style.display="inline",te()?(q.style.display="inline",g.innerText="Ajouter une équipe"):g.innerText="Equipe suivante"):(l.innerText=`Partie terminée
`,re().forEach(t=>{l.innerText+=`
 Equipe `+t.name+" : "+t.totalScore+" points"})),f.style.visibility="visible"};e.addEventListener("click",()=>{de(),r()}),j(r)}function y(){if(z.innerText=(h+1).toString(),h===P.Description?l.innerText="Faites deviner en décrivant :":h===P.Word?l.innerText="Faites deviner avec un seul mot :":h===P.Signs&&(l.innerText="Faites deviner en mimant :"),a!=null)if(be()){T.innerText=a,T.style.visibility="visible";var e=ee();$.innerText=e?e.name:"inconnue",U.innerText=e?e.roundScore.toString():"0"}else l.innerText="En attente des joueurs",T.style.visibility="hidden";else l.innerText="En attente";H.innerText=ge().toString()}function we(){console.log("(Re)Starting game"),ue(),y(),b.hidden=!0,I.style.visibility="visible",R.style.visibility="visible",G.style.visibility="visible",c.disabled=!1,p.disabled=!1,v.hidden=!1,f.disabled=!1,p.style.display="inline",c.style.display="inline",g.style.display="none"}function Ce(){console.log("Stopping timer"),ce(),y(),c.disabled=!0,p.disabled=!0,v.hidden=!0,w.hidden=!1,f.style.visibility="visible"}function Re(){console.log("Resuming timer"),me(),y(),c.disabled=!1,p.disabled=!1,v.hidden=!1,w.hidden=!0}const Ne=document.querySelector("#score_group"),Ae=document.querySelector("#round"),Me=document.querySelector("#team"),Ie=document.querySelector("#score"),Ge=document.querySelector("#instruction"),_e=document.querySelector("#word"),Be=document.querySelector("#words_and_time_left"),De=document.querySelector("#remaining"),We=document.querySelector("#start"),ke=document.querySelector("#pause"),Oe=document.querySelector("#resume"),je=document.querySelector("#turn_buttons"),Fe=document.querySelector("#skip_word"),ze=document.querySelector("#guessed_word"),$e=document.querySelector("#next_team"),Ue=document.querySelector("#next_round"),He=document.querySelector("#reset_game"),Je=document.querySelector("#end_timer");O();ve(Ne,Ae,Me,Ie,Be,De,Ge,_e);ye(We,ke,Oe);Te(je);xe(Fe);qe(ze);Ee($e);Pe(Ue);Se(He);Le(Je);
