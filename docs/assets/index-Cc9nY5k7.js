var F=Object.defineProperty;var I=(e,r,t)=>r in e?F(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var d=(e,r,t)=>I(e,typeof r!="symbol"?r+"":r,t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const w of a.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&l(w)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();const M=["Montre","Pêcheur","Écureuil","Baleine","Souris","Hippocampe","Ruche","Ordinateur","Niche","Mamie","Dinosaure","Pêcher","Limousine","Chevalier","Oeuf de Pâques","Bonhomme de neige","Poireau","Cravate","Robe de mariée","Pyjama","Bague","Varicelle","Lion","Barbe","Pizza","Ciseaux","Trousse","Rouge à lèvres","Écharpe","Chaise","Cadeau","Ballon","Lunettes","Arrosoir","Index","Genou","Domino","Pirate","Magicien","Père Noël","Momie","Cirque","Fourchette","Poubelle","Crocodile","Glace","Coffre-fort","Igloo","Tour Eiffel","Notre Dame","Prise électrique","Calendrier","Cheminée","Chaussette","Jeu de cartes","Pétanque","Autostop","Sage-femme","Plombier","Président de la république","Marionnettiste","Berger","Génie","Esthéticienne","Printemps","Artichaut","Pâte à modeler","Farine","Mayonnaise","Twitter","Lampe à huile","Huître","Moule","Chou de bruxelles","Tailleur","Déménager","Ramper","Neveu","Acteur","Ours polaire","Samedi","Halloween","Spéléologie","Perroquet","Éternuer","Judo","Curling","Formule 1","Réalisateur","Mammouth","Fourmilier","Chirurgien","Mannequin","Hockey sur gazon","Oursin","Cachalot","Distributeur","Squash","Accoucher","Sauter à la corde","Faire la vaisselle","Livrer un colis","Jouer du ukulélé","Faire des crèpes","Traire une vache","Manger un hamburger","Lire un livre en braille","Chanter la Marseillaise","Écrire un SMS","Couper du bois","Avoir mal aux dents","raclette","Sortir le chien","Sauter en parachute","Regarder la télé","Grimper à un arbre","Sauter du plongeoir","Jouer aux lego","Lire dans les lignes de la main","Se laver les dents","Se coiffer les cheveux","Allumer une bougie","Étendre le linge","Tomber amoureux","Poker","Faire ses devoirs","Cueillir des pommes","Ramasser des champignons","Changer un bébé","Danser le tango","Claquer une porte","Avoir une idée","Courir un marathon","Tondre la pelouse","Être en retard","Un de ces quatre","Les doigts dans le nez","Vouloir le beurre et l'argent du beurre","Toucher du bois","Regarder les mouches voler","Pisser dans un violon","Dormir sur ses deux oreilles","Prendre son pied","L'habit ne fait pas le moine","Poser un lapin","Cucul la praline","Au ras des pâquerettes","Pleurer à chaudes larmes","Tomber dans les pommes","C'est bonnet blanc et blanc bonnet","Un froid de canard","Tourner autour du pot","Point barre","Avoir plusieurs cordes à son arc","Être la cinquième roue du carrosse","Prendre le taureau par les cornes","Appuyer sur le champignon","Sans queue ni tête","Ne pas avoir les yeux en face des trous","L'arbre qui cache la forêt","Les bras m'en tombent","Au pied de la lettre","En avoir par dessus la tête","angle","armoire","banc","bureau","cabinet","carreau","chaise","classe","clé","coin","couloir","dossier","eau","école","écriture","entrée","escalier","étagère","étude","extérieur","fenêtre","intérieur","lavabo","lecture","lit","marche","matelas","maternelle","meuble","mousse","mur","peluche","placard","plafond","porte","portemanteau","poubelle","radiateur","rampe","récréation","rentrée","rideau","robinet","salle","savon","serrure","serviette","siège","sieste","silence","sol","sommeil","sonnette","sortie","table","tableau","tabouret","tapis","tiroir","toilette","vitre","w-c","aller","amener","apporter","appuyer","s'asseoir","attendre","bâiller","bosser","se coucher","dormir","éclairer","écrire","emmener","emporter","s'endormir","s'ennuyer","entrer","étudier","fermer","frapper","s'installer","se lever","lire","ouvrir","se presser","se réchauffer","rentrer","se reposer","rester","se réveiller","sonner","sortir","tricher","venir","absent","assis","bas","couché","haut","présent","à côté","à droite","à gauche","au milieu","au-delà","au-dessous","au-dessus","debout","dedans","dehors","en bas","en face","en haut","loin","près","tard","tôt","après","avant","contre","dans","de","derrière","devant","du","sous","sur","crayon","stylo","feutre","taille-crayon","pointe","mine","gomme","dessin","coloriage","rayure","peinture","pinceau","couleur","craie","papier","feuille","cahier","carnet","carton","ciseaux","découpage","pliage","pli","colle","affaire","boîte","casier","caisse","trousse","cartable","jouet","jeu","pion","dé","domino","puzzle","cube","perle","chose","forme : carré","rond","pâte à modeler","tampon","livre","histoire","bibliothèque","image","album","titre","bande dessinée","conte","dictionnaire","magazine","catalogue","page","ligne","mot","enveloppe","étiquette","affiche","alphabet","appareil","caméscope","cassette","cédérom","chaîne","chanson","chiffre","contraire","différence","doigt","écran","écriture","film","fois","idée","instrument","intrus","lettre","liste","magnétoscope","main","micro","modèle","musique","nom","nombre","orchestre","ordinateur","photo","point","poster","pouce","prénom","question","radio","sens","tambour","télécommande","téléphone","télévision","trait","trompette","voix","xylophone","zéro","chanter","chercher","choisir","chuchoter","coller","colorier","commencer","comparer","compter","construire","continuer","copier","couper","déchirer","décoller","décorer","découper","demander","démolir","se dépêcher","dessiner","dire","discuter","écouter","écrire","effacer","entendre","entourer","envoyer","faire","finir","fouiller","goûter","imiter","laisser","lire","mettre","montrer","ouvrir un livre","parler","peindre","plier","poser","prendre","préparer","ranger","réciter","recommencer","regarder","remettre","répéter","répondre","sentir","souligner","tailler","se taire","tenir","terminer","toucher","travailler","trier","adresse","appartement","ascenseur","balcon","boucherie","boulanger","boulangerie","boutique","bus","caniveau","caravane","carrefour","cave","charcuterie","cinéma","cirque","clin d'œil","cloche","clocher","clown","coiffeur","colis-route","courrier","croix","église","embouteillage","endroit","enveloppe","essence","facteur","fleuriste","foire","hôpital","hôtel","immeuble","incendie","laisse","magasin","manège","médicament","moineau","monde","monument","ouvrier","palais","panneau","paquet","parc","passage","pharmacie","pharmacien","piscine","place","police","policier","pompier","poste","promenade","quartier","square","timbre","travaux","usine","village","ville","voisin","volet","barrer","clignoter","se croiser","garer","photographier","reconnaître","retrouver","revoir","saluer","savoir","se toucher","se trouver","visiter","important","impossible","prudent","chez","abricot","ail","aliment","ananas","banane","bifteck","café","carotte","cerise","chocolat","chou","citron","citrouille","clémentine","concombre","coquillage","corbeille","crabe","crevette","endive","farine","fraise","framboise","fromage","fruit","gâteau","haricot","huile","légume","marchand","melon","monnaie","navet","noisette","noix","nourriture","oignon","orange","panier","pâtes","pêche","persil","petit pois","poire","poireau","pomme","pomme de terre","prix","prune","queue","raisin","riz","salade","sucre","thé","tomate","viande","vin","acheter","ajouter","coûter","payer","peser","rendre","vendre","cher","léger","lourd","plein","baleine","bouée","île","jumelles","marin","mer","mouette","navire","pêcheur","plage","poisson","port","sardine","serviette","vague","voile","se noyer","ramer","nager","angle","armoire","banc","bureau","cabinet","carreau","chaise","classe","clé","coin","couloir","dossier","eau","école","écriture","entrée","escalier","étagère","étude","extérieur","fenêtre","intérieur","lavabo","lecture","lit","marche","matelas","maternelle","meuble","mousse","mur","peluche","placard","plafond","porte","portemanteau","poubelle","radiateur","rampe","récréation","rentrée","rideau","robinet","salle","savon","serrure","serviette","siège","sieste","silence","sol","sommeil","sonnette","sortie","table","tableau","tabouret","tapis","tiroir","toilette","vitre","w-c","crayon","stylo","feutre","taille-crayon","pointe","mine","gomme","dessin","coloriage","rayure","peinture","pinceau","couleur","craie","papier","feuille","cahier","carnet","carton","ciseaux","découpage","pliage","pli","colle","affaire","boîte","casier","caisse","trousse","cartable","jouet","jeu","pion","dé","domino","puzzle","cube","perle","chose","forme : carré","rond","pâte à modeler","tampon","livre","histoire","bibliothèque","image","album","titre","bande dessinée","conte","dictionnaire","magazine","catalogue","page","ligne","mot","enveloppe","étiquette","affiche","alphabet","appareil","caméscope","cassette","cédé","cédérom","chaîne","chanson","chiffre","contraire","différence","doigt","écran","écriture","film","fois","idée","instrument","intrus","lettre","liste","magnétoscope","main","micro","modèle","musique","nom","nombre","orchestre","ordinateur","photo","point","poster","pouce","prénom","question","radio","sens","tambour","télécommande","téléphone","télévision","trait","trompette","voix","xylophone","zéro","aller","amener","apporter","appuyer","s'asseoir","attendre","bâiller","bosser","se coucher","dormir","éclairer","écrire","emmener","emporter","s'endormir","s'ennuyer","entrer","étudier","fermer","frapper","s'installer","se lever","lire","ouvrir","se presser","se réchauffer","rentrer","se reposer","rester","se réveiller","sonner","sortir","tricher","venir","absent","assis","bas","couché","haut","présent","aider","défendre","désobéir","distribuer","échanger","s'excuser","expliquer","se fâcher","gronder","obéir","obliger","partager","prêter","priver","promettre","punir","se quitter","raconter","refuser","séparer","à côté","à droite","à gauche","au milieu","au-delà","au-dessous","au-dessus","debout","dedans","dehors","en bas","en face","en haut","loin","près","tard","tôt","blond","brun","calme","curieux","différent","doux","énervé","gentil","grand","handicapé","inséparable","jaloux","moyen","muet","noir","nouveau","petit","poli","propre","roux","sage","sale","sérieux","sourd","tranquille","chanter","chercher","choisir","chuchoter","coller","colorier","commencer","comparer","compter","construire","continuer","copier","couper","déchirer","décoller","décorer","découper","demander","démolir","se dépêcher","dessiner","dire","discuter","écouter","écrire","effacer","entendre","entourer","envoyer","faire","finir","fouiller","goûter","imiter","laisser","lire","mettre","montrer","ouvrir un livre","parler","peindre","plier","poser","prendre","préparer","ranger","réciter","recommencer","regarder","remettre","répéter","répondre","sentir","souligner","tailler","se taire","tenir","terminer","toucher","travailler","trier","ami","attention","camarade","colère","copain","coquin","dame","directeur","directrice","droit","effort","élève","enfant","fatigue","faute","fille","garçon","gardien","madame","maître","maîtresse","mensonge","ordre","personne","retard","sourire","travail","arrosoir","assiette","balle","bateau","boîte","bouchon","bouteille","bulles","canard","casserole","cuillère","cuvette","douche","entonnoir","gouttes","litre","moulin","pluie","poisson","pont","pot","roue","sac en plastique","saladier","seau","tablier","tasse","trous","verre","agiter","s'amuser","arroser","attraper","avancer","baigner","barboter","boucher","bouger","déborder","doucher","éclabousser","essuyer","envoyer","flotter","gonfler","inonder","jouer","laver","mélanger","mouiller","nager","patauger","pleuvoir","plonger","pousser","pouvoir","presser","recevoir","remplir","renverser","sécher","serrer","souffler","tirer","tourner","tremper","verser","vider","vouloir","amusant","chaud","froid","humide","intéressant","mouillé","sec","transparent","à moitié","autant","beaucoup","encore","moins","peu","plus","trop","à l'endroit","à l'envers","anorak","arc","bagage","baguette","barbe","bonnet","botte","bouton","bretelle","cagoule","casque","casquette","ceinture","chapeau","chaussette","chausson","chaussure","chemise","cigarette","col","collant","couronne","cravate","culotte","écharpe","épée","fée","flèche","fusil","gant","habit","jean","jupe","lacet","laine","linge","lunettes","magicien","magie","maillot","manche","manteau","mouchoir","moufle","nœud","paire","pantalon","pied","poche","prince","pull-over","pyjama","reine","robe","roi","ruban","semelle","soldat","sorcière","tache","taille","talon","tissu","tricot","uniforme","valise","veste","vêtement","se changer","se chausser","se couvrir","se déguiser","se déshabiller","enlever","s'habiller","lacer","porter","ressembler","aiguille","ampoule","avion","bois","bout","bricolage","bruit","cabane","carton","clou","colle","crochet","élastique","ficelle","fil","marionnette","marteau","métal","mètre","morceau","moteur","objet","outil","peinture","pinceau","planche","plâtre","scie","tournevis","vis","voiture","véhicule","carnaval"];function U(e){return Math.floor(Math.random()*e)}function N(e){return e.split("").reverse().join("")}function $(e){const r=new URL(window.location.href);if(e==null)return r;e=N(e),e=encodeURIComponent(e);const t=r.searchParams.get("words");t!==null?(r.searchParams.set("words",t+"_"+e),history.pushState({},"",r)):(r.searchParams.set("words",e),history.pushState({},"",r))}function H(e){return e.sort(()=>Math.random()-.5)}class J{constructor(r){d(this,"element");d(this,"interval");d(this,"seconds");d(this,"minutes");d(this,"onTimerEnd");this.element=document.getElementById(r),this.interval=null,this.seconds=0,this.minutes=0}start(){this.interval||(this.interval=window.setInterval(()=>{this.updateTimer()},1e3))}stop(){this.interval&&(clearInterval(this.interval),this.interval=null)}reset(){this.stop(),this.seconds=0,this.minutes=0,this.updateDisplay()}updateTimer(){if(this.seconds++,this.seconds===60&&(this.seconds=0,this.minutes++),this.updateDisplay(),this.seconds<=0){if(!this.onTimerEnd)return;this.onTimerEnd()}}updateDisplay(){const r=this.minutes.toString().padStart(2,"0"),t=this.seconds.toString().padStart(2,"0");this.element.textContent=`${r}:${t}`}}class R{constructor(r,t=0){d(this,"name");d(this,"score");this.name=r,this.score=t}}let i,u=0;function V(){console.log("Adding a team"),i.push(new R((i.length+1).toString())),console.log("Total is",i.length,"players")}function B(){++u,u>i.length-1&&V()}function _(){console.log("Resetting teams"),i=[],u=-1}function A(){return i.length===0?new R("?"):i[u]}function K(){return u===i.length}function Q(){return console.log("Adding a point to player",u),i[u].score++,i[u].score}function X(){return new URL(window.location.href).searchParams.getAll("p")}function Y(){console.log("reading scores from URL"),i=[],u=0;const e=X();if(e!==null&&(i==null?void 0:i.length)>0)for(const r of e){const t=r.split("_")[0],l=r.split("_")[1];t!==null&&l!==null&&!Number.isNaN(parseInt(l))&&i.push(new R(t,parseInt(l)))}else u=0}const P=10,x=new J("timer");let s,q,o=[],b=[];function L(){Z(),o.length+b.length<P?(s=M[U(M.length)],$(s)):s=o.shift()}function Z(){if(o.length===0){const r=new URL(window.location.href).searchParams.get("words"),t=r!==null?r==null?void 0:r.split("_"):[];for(const l of t){if(o.length===P)break;o.push(N(decodeURIComponent(l)))}H(o)}o===null&&(o=[])}function ee(){return s&&b.push(s),Q(),L(),b.length<P}function W(){s&&o.push(s),L()}function re(){x.onTimerEnd=()=>{s&&(o.unshift(s),s=void 0)}}function te(){q<3?(L(),B(),x.start(),re()):console.error("END OF GAME == NOT IMPLEMENTED")}function k(){x.stop()}function ne(){x.start()}function j(){++q,o=[],b=[],q<3&&L(),j()}function G(){Y(),_(),o=[],b=[],q=0,s=""}function ie(){G(),x.reset(),_();const e=new URL(window.location.href);e.searchParams.delete("words"),history.pushState({},"",e)}function oe(){return o!==null?o.length>0:!1}function se(){return P-b.length}let c,z,O,C,E,g,f,S,y,h,p,v,m;function T(){var e,r;s!=null?c.innerText="Le mot est : "+s:c.innerText="Manche terminée",z.innerText="Le score de l'équipe "+((e=A())==null?void 0:e.name)+" est : "+((r=A())==null?void 0:r.score.toString()),O.innerText=se().toString()}function ae(e,r,t,l){console.log("User output init"),z=e,C=r,O=t,c=l}function le(e){console.log("start button setup"),g=e;const r=()=>{console.log("(Re)Starting game"),oe()?p.style.display="inline":p.style.display="none",te(),T(),c.innerText="",C.hidden=!1,E.hidden=!1,g.disabled=!0,f.disabled=!1,p.disabled=!1,y.style.display="inline",h.style.display="inline",m.style.display="none"};g.addEventListener("click",()=>r())}function D(e){console.log("reset game button setup"),p=e;const r=()=>{console.log("Resetting game"),ie(),c.innerText="Prêts à commencer",g.innerText="Relancer",C.hidden=!0,E.hidden=!0,g.disabled=!1,f.disabled=!0,p.disabled=!0,f.style.display="inline",S.style.display="none",y.style.display="none",h.style.display="none",v.style.display="none",m.style.display="none"};e.addEventListener("click",()=>r())}function ue(e){S=e;const r=()=>{console.log("Resuming timer"),ne(),f.style.display="inline",S.style.display="none"};e.addEventListener("click",()=>r())}function ce(e){console.log("stop timer setup"),f=e;const r=()=>{console.log("Stopping timer"),k(),f.style.display="none",S.style.display="inline"};e.addEventListener("click",()=>r())}function de(e){E=e;const r=()=>{W(),T()};e.addEventListener("click",()=>r())}function pe(e){y=e;const r=()=>{W(),T()};e.addEventListener("click",()=>r())}function me(e){h=e;const r=()=>{const t=ee();T(),t||(c.innerText="Fin du round",y.style.display="none",h.style.display="none",v.style.display="inline")};h.addEventListener("click",()=>r())}function he(e){m=e;const r=()=>{c.innerText="",B(),T(),m.style.display="none",v.style.display="none",p.disabled=!0};e.addEventListener("click",()=>r())}function fe(e){v=e;const r=()=>{j(),c.innerText="",T(),y.style.display="none",h.style.display="none",v.style.display="none",m.style.display="none",p.style.display="inline"};e.addEventListener("click",()=>r())}function ge(e){const r=()=>{k(),c.innerText="Fin du temps !",g.disabled=!0,f.disabled=!0,m.style.display="inline",K()?(v.style.display="inline",m.innerText="Ajouter une équipe"):m.innerText="Equipe suivante",y.style.display="none",h.style.display="none",p.style.display="inline"};e.addEventListener("click",()=>r())}const be=document.querySelector("#start_btn"),ve=document.querySelector("#pause_btn"),ye=document.querySelector("#play_btn"),Te=document.querySelector("#reset_btn"),xe=document.querySelector("#words_left"),qe=document.querySelector("#score"),Se=document.querySelector("#remaining"),Pe=document.querySelector("#word"),Le=document.querySelector("#turn_buttons"),we=document.querySelector("#skip_word"),Re=document.querySelector("#guessed_word"),Ce=document.querySelector("#next_team"),Ee=document.querySelector("#next_round"),Me=document.querySelector("#reset_words"),Ae=document.querySelector("#end_timer");ae(qe,xe,Se,Pe);le(be);ce(ve);ue(ye);D(Te);de(Le);pe(we);me(Re);he(Ce);fe(Ee);D(Me);G();ge(Ae);
